# Online Reading and Comment Platform

[中文版](./README.md)

This is a user-friendly online platform developed for the [XJTLU PhD Student Unofficial Guide](https://github.com/xp-pgrs-unofficial-guide/xp_pgrs_unofficial_guide). You can read the guide content and participate in chapter-by-chapter discussions through this platform.

For feature requests and bug reports, please [submit an issue](https://github.com/xp-pgrs-unofficial-guide/guide-review-platform/issues);  
For content of the guide itself, you can use the platform to join discussion, or please refer to instruction in the [Chinese version](https://github.com/xp-pgrs-unofficial-guide/xp_pgrs_unofficial_guide) or [English version](https://github.com/xp-pgrs-unofficial-guide/xp_pgrs_unofficial_guide_EN) projects.

## GenAI usage declaration

This project uses large language models (LLMs) to generate codes and English translation. The content generated by LLMs may not always be correct, reliable, or of high quality. Though the developer of this project has done its best to check the generated content, it does not guarantee the accuracy, reliability, or quality of the generated content. Users are encouraged to verify the accuracy, reliability, and quality of the generated content before using it.

## Key Features

- **Online Reading**: Access document content through your web browser
- **Comments**: Discuss and interact in the comment section below each chapter
- **Responsive Design**: Optimized display for desktop, tablet, and mobile devices
- **Easy Navigation**: Quick chapter access through the left sidebar
- **User System**: Supports user registration and login, authentication required for commenting

## How to Use

1. You'll see the welcome page when you open the website
2. Find your desired chapter in the left sidebar
3. In the comment section below each chapter, you can:
   - Read comments from others
   - Add your own comments and thoughts after logging in
   - Participate in discussions

## Technical Stack

This project is built with:
- Next.js 15 - React framework
- TypeScript - Type-safe JavaScript
- Tailwind CSS - Styling
- PostgreSQL - Database
- Prisma - Database ORM
- NextAuth.js - Authentication
- Docker - Containerization (optional)

## Development Guide

To run this project locally:

1. Ensure you have installed:
   - Node.js 18.0 or higher
   - npm or yarn package manager
   - If using Docker: Docker and Docker Compose

2. Clone the repository:
   ```bash
   git clone https://github.com/xp-pgrs-unofficial-guide/guide-review-platform.git
   cd guide-review-platform/latex-review-platform
   ```

3. Install dependencies:
   ```bash
   npm install
   ```

4. Configure environment variables:
   Create a `.env` file in the project root and add:
   ```bash
   # Database connection URL (default configuration when using Docker Compose)
   DATABASE_URL="postgresql://username:password@localhost:5432/guide_review_db"
   
   # NextAuth secret (generate using: openssl rand -base64 32)
   NEXTAUTH_SECRET="your-secret-key"
   ```

5. Set up the database:

   Option 1: Using Docker Compose (recommended)
   ```bash
   # Start PostgreSQL database container
   docker compose up -d
   
   # Run database migrations
   npx prisma db push
   
   # (Optional) Launch Prisma Studio to view database content
   npx prisma studio
   ```
   
   Option 2: Local PostgreSQL Installation
   - Install PostgreSQL database
   - Create a new database:
     ```bash
     createdb guide_review_db
     ```
   - Run database migrations:
     ```bash
     npx prisma db push
     ```
   - (Optional) Launch Prisma Studio to view database content:
     ```bash
     npx prisma studio
     ```

   Note: When using Docker Compose, the default database configuration is:
   - Username: username
   - Password: password
   - Database name: guide_review_db
   - Port: 5432

6. Start the development server:
   ```bash
   npm run dev
   ```

7. Open your browser and visit `http://localhost:3000`

## Database Schema

The project uses PostgreSQL database with the following main tables:
- `User`: User information
  - Username (unique)
  - Password (encrypted)
  - Email (optional, unique)
  - Creation and update timestamps
  - Associated comments

- `Chapter`: Chapter information
  - Title
  - Associated comments
  - Creation and update timestamps

- `Comment`: Comment content
  - Comment text
  - Author ID and name
  - Associated chapter
  - Parent comment ID (for reply functionality)
  - Creation and update timestamps
  - Relations with users and chapters

For detailed database schema, please refer to `prisma/schema.prisma`.

## Security Notes

- User passwords are encrypted using bcrypt
- Authentication is handled by NextAuth.js
- All sensitive information is configured through environment variables
- User authentication is required for posting comments

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
